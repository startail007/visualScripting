!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=59)}([function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return s}));var r=n(2),o=n.n(r),i=n(3),u=n.n(i),a=n(9),c=function(){function t(){o()(this,t)}return u()(t,null,[{key:"normalize",value:function(e){return t.length(e)?t.scale(e,1/t.length(e)):e}},{key:"rotate",value:function(t,e){var n=Math.cos(e),r=Math.sin(e);return[t[0]*n-t[1]*r,t[1]*n+t[0]*r]}},{key:"dot",value:function(t,e){return t[0]*e[0]+t[1]*e[1]}},{key:"cross",value:function(t,e){return t[0]*e[1]-t[1]*e[0]}},{key:"add",value:function(t,e){return[t[0]+e[0],t[1]+e[1]]}},{key:"sub",value:function(t,e){return[t[0]-e[0],t[1]-e[1]]}},{key:"projection",value:function(e,n){var r=t.dot(e,n)/t.dot(n,n);return[n[0]*r,n[1]*r]}},{key:"length",value:function(e){return Math.sqrt(t.dot(e,e))}},{key:"mul",value:function(t,e){return[t[0]*e[0],t[1]*e[1]]}},{key:"div",value:function(t,e){return[t[0]/e[0],t[1]/e[1]]}},{key:"scale",value:function(t,e){return[t[0]*e,t[1]*e]}},{key:"collisionCalc",value:function(e,n,r,o){return t.scale(t.add(t.scale(e,r-o),t.scale(n,2*o)),1/(r+o))}},{key:"getAngle",value:function(t){return Math.atan2(t[1],t[0])}},{key:"floor",value:function(t){return[Math.floor(t[0]),Math.floor(t[1])]}},{key:"fract",value:function(t){return[a.a.fract(t[0]),a.a.fract(t[1])]}},{key:"sin",value:function(t){return[Math.sin(t[0]),Math.sin(t[1])]}},{key:"cos",value:function(t){return[Math.cos(t[0]),Math.cos(t[1])]}},{key:"distance",value:function(e,n){return t.length(t.sub(n,e))}},{key:"mix",value:function(t,e,n){return[a.a.mix(t[0],e[0],n),a.a.mix(t[1],e[1],n)]}},{key:"abs",value:function(t){return[Math.abs(t[0]),Math.abs(t[1])]}},{key:"getLine",value:function(e,n){return{pos:e,dir:t.sub(n,e)}}},{key:"min",value:function(t,e){return[Math.min(t[0],e[0]),Math.min(t[1],e[1])]}},{key:"max",value:function(t,e){return[Math.max(t[0],e[0]),Math.max(t[1],e[1])]}}]),t}(),s=function(){function t(){o()(this,t)}return u()(t,null,[{key:"set",value:function(t,e,n){return t[0]=e,t[1]=n,t}},{key:"normalize",value:function(e){var n=c.length(e);return n&&t.scale(e,1/n),e}},{key:"add",value:function(t,e){return t[0]+=e[0],t[1]+=e[1],t}},{key:"sub",value:function(t,e){return t[0]-=e[0],t[1]-=e[1],t}},{key:"scale",value:function(t,e){return t[0]*=e,t[1]*=e,t}},{key:"rotate",value:function(t,e){var n=Math.cos(e),r=Math.sin(e),o=[t[0]*n-t[1]*r,t[1]*n+t[0]*r];return t[0]=o[0],t[1]=o[1],t}}]),t}()},function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(e)}t.exports=n},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}},function(t,e,n){"use strict";var r=n(40),o=n(43),i=n(19),u=function(){return r.apply(this,arguments)};u.m=r,u.trust=r.trust,u.fragment=r.fragment,u.mount=i.mount,u.route=n(48),u.render=n(29),u.redraw=i.redraw,u.request=o.request,u.jsonp=o.jsonp,u.parseQueryString=n(32),u.buildQueryString=n(30),u.parsePathname=n(21),u.buildPathname=n(20),u.vnode=n(12),u.PromisePolyfill=n(27),t.exports=u},function(t,e,n){var r=n(38);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}},function(t,e,n){var r=n(51);function o(e,n,i){return"undefined"!=typeof Reflect&&Reflect.get?t.exports=o=Reflect.get:t.exports=o=function(t,e,n){var o=r(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}},o(e,n,i||e)}t.exports=o},function(t,e,n){var r=n(39),o=n(22);t.exports=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?o(t):e}},function(t,e,n){var r=n(33),o=n(34),i=n(35),u=n(36);t.exports=function(t){return r(t)||o(t)||i(t)||u()}},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(2),o=n.n(r),i=n(3),u=n.n(i),a=function(){function t(){o()(this,t)}return u()(t,null,[{key:"mix",value:function(t,e,n){return t*(1-n)+e*n}},{key:"fract",value:function(t){return(t%=1)<0?t+1:t}},{key:"inverseMix",value:function(t,e,n){return(n-t)/(e-t)}},{key:"clamp",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return t<=e?e:t>=n?n:t}},{key:"smoothstep",value:function(t,e,n){return(n=clamp(inverseMix(t,e,n)))*n*(3-2*n)}},{key:"guid",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}))}}]),t}()},function(t,e,n){"use strict";n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return i})),n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return a}));var r=n(0),o=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},i=function(t,e,n,r){return t[0]<=n[0]+r[0]&&n[0]<=t[0]+e[0]&&t[1]<=n[1]+r[1]&&n[1]<=t[1]+e[1]},u=function(t,e,n){return t.findIndex((function(t,r,o){if(t==e)return o.splice(r,1),n&&n(r),!0}))},a=function(t,e){var n=r.a.min(t,e),o=r.a.max(t,e);return{pos:n,size:r.a.sub(o,n)}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(2),o=n.n(r),i=n(3),u=n.n(i),a=function(){function t(){o()(this,t),this.callbackList={}}return u()(t,[{key:"on",value:function(t,e){var n;t&&e&&(this.callbackList[t]=null!==(n=this.callbackList[t])&&void 0!==n?n:[],this.callbackList[t].push(e))}},{key:"off",value:function(t,e){t&&this.callbackList[t]&&(e&&this.callbackList[t].length>1?this.callbackList[t]=this.callbackList[t].filter((function(t){return t!==e})):delete this.callbackList[t])}},{key:"fire",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];if(this.callbackList[t])return this.callbackList[t].map((function(t){return t.apply(void 0,n)}))}},{key:"get",value:function(t,e){if(this.callbackList[t]){for(var n,r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];return(n=this.callbackList[t])[null!=e?e:0].apply(n,o)}}},{key:"has",value:function(t){return!!this.callbackList[t]}},{key:"once",value:function(t,e){var n=this;if(e){this.on(t,(function r(){for(var o=arguments.length,i=new Array(o),u=0;u<o;u++)i[u]=arguments[u];e.call.apply(e,[n].concat(i)),n.off(t,r)}))}}}]),t}()},function(t,e,n){"use strict";function r(t,e,n,r,o,i){return{tag:t,key:e,attrs:n,children:r,text:o,dom:i,domSize:void 0,state:void 0,events:void 0,instance:void 0}}r.normalize=function(t){return Array.isArray(t)?r("[",void 0,void 0,r.normalizeChildren(t),void 0,void 0):null==t||"boolean"==typeof t?null:"object"==typeof t?t:r("#",void 0,void 0,String(t),void 0,void 0)},r.normalizeChildren=function(t){var e=[];if(t.length){for(var n=null!=t[0]&&null!=t[0].key,o=1;o<t.length;o++)if((null!=t[o]&&null!=t[o].key)!==n)throw new TypeError("Vnodes must either always have keys or never have keys!");for(o=0;o<t.length;o++)e[o]=r.normalize(t[o])}return e},t.exports=r},,function(t,e,n){"use strict";n.d(e,"e",(function(){return y})),n.d(e,"f",(function(){return g})),n.d(e,"c",(function(){return b})),n.d(e,"d",(function(){return w})),n.d(e,"b",(function(){return x})),n.d(e,"a",(function(){return k}));var r=n(2),o=n.n(r),i=n(3),u=n.n(i),a=n(5),c=n.n(a),s=n(7),l=n.n(s),f=n(1),p=n.n(f),d=n(11),h=n(10),v=n(0);function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p()(t);if(e){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l()(this,n)}}var y=function(t,e){t.style.left=e[0]+"px",t.style.top=e[1]+"px"},g=function(t,e){t.style.width=e[0]+"px",t.style.height=e[1]+"px"},b=function(t){return[t.offsetLeft,t.offsetTop]},w=function(t){return[t.offsetWidth,t.offsetHeight]},x=function(t){for(var e=[0,0],n=t;n;){var r,o;e[0]+=null!==(r=n.scrollLeft)&&void 0!==r?r:0,e[1]+=null!==(o=n.scrollTop)&&void 0!==o?o:0,n=n.parentElement}var i=t.getBoundingClientRect();return[i.x+e[0],i.y+e[1]]},k=function(t){c()(n,t);var e=m(n);function n(t){var r;return o()(this,n),r=e.call(this),t&&r.init(t),r}return u()(n,[{key:"init",value:function(t){var e=this;this.element=t;var n=[0,0],r=function(t){t.register=e;var r=t.touches?t.touches[0]:t;v.b.set(n,r.pageX,r.pageY),t.mousePos=n,e.fire("press",t)},o=function(t){t.register=e;var r=t.touches?t.touches[0]:t,o=[0,0];v.b.set(o,r.pageX,r.pageY);var i=v.a.sub(o,n);v.b.set.apply(v.b,[n].concat(o)),t.mousePos=n,t.movePos=i,e.fire("move",t)},i=function(t){t.register=e;var r=t.touches?t.touches[0]:t;r&&v.b.set(n,r.pageX,r.pageY),t.mousePos=n,e.fire("release",t)};Object(h.c)()?(this.element.addEventListener("touchstart",r),this.element.addEventListener("touchmove",o),this.element.addEventListener("touchend",i)):(this.element.addEventListener("mousedown",r),this.element.addEventListener("mousemove",o),this.element.addEventListener("mouseup",i))}}]),n}(d.a)},,function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return u}));var r=n(11),o=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.forEach((function(e){var n=Object.keys(e).reduce((function(t,n){return t[n]=Object.getOwnPropertyDescriptor(e,n),t}),{});Object.getOwnPropertySymbols(e).forEach((function(t){var r=Object.getOwnPropertyDescriptor(e,t);r.enumerable&&(n[t]=r)})),Object.defineProperties(t,n,{writable:!0})})),t},i=function(t,e,n){Object.defineProperty(t,n,{get:function(){return e[n]},set:function(r){if(e[n]!==r){var o=e[n];e[n]=r,t.listener.fire("change",n,r,o)}},configurable:!0,enumerable:!0})},u=function(t){var e=new r.a,n={};for(var o in Object.defineProperty(n,"listener",{value:e,writable:!1}),Object.defineProperty(n,"on",{value:function(t,e){n.listener.on(t,e)},writable:!1}),Object.defineProperty(n,"off",{value:function(t,e){n.listener.off(t,e)},writable:!1}),Object.defineProperty(n,"add",{value:function(e,r){t[e]=r,i(n,t,e),n.listener.fire("add",e,r)},writable:!1}),Object.defineProperty(n,"remove",{value:function(e){delete n[e],delete t[e],n.listener.fire("remove",e)},writable:!1}),t)i(n,t,o);return n}},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var r=n(29);t.exports=n(46)(r,requestAnimationFrame,console)},function(t,e,n){"use strict";var r=n(30),o=n(31);t.exports=function(t,e){if(/:([^\/\.-]+)(\.{3})?:/.test(t))throw new SyntaxError("Template parameter names *must* be separated");if(null==e)return t;var n=t.indexOf("?"),i=t.indexOf("#"),u=i<0?t.length:i,a=n<0?u:n,c=t.slice(0,a),s={};o(s,e);var l=c.replace(/:([^\/\.-]+)(\.{3})?/g,(function(t,n,r){return delete s[n],null==e[n]?t:r?e[n]:encodeURIComponent(String(e[n]))})),f=l.indexOf("?"),p=l.indexOf("#"),d=p<0?l.length:p,h=f<0?d:f,v=l.slice(0,h);n>=0&&(v+=t.slice(n,u)),f>=0&&(v+=(n<0?"?":"&")+l.slice(f,d));var m=r(s);return m&&(v+=(n<0&&f<0?"?":"&")+m),i>=0&&(v+=t.slice(i)),p>=0&&(v+=(i<0?"":"&")+l.slice(p)),v}},function(t,e,n){"use strict";var r=n(32);t.exports=function(t){var e=t.indexOf("?"),n=t.indexOf("#"),o=n<0?t.length:n,i=e<0?o:e,u=t.slice(0,i).replace(/\/{2,}/g,"/");return u?("/"!==u[0]&&(u="/"+u),u.length>1&&"/"===u[u.length-1]&&(u=u.slice(0,-1))):u="/",{path:u,params:e<0?{}:r(t.slice(e+1,o))}}},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},,function(t,e,n){"use strict";var r=n(12),o=n(25),i=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,u={},a={}.hasOwnProperty;function c(t){for(var e in t)if(a.call(t,e))return!1;return!0}function s(t){for(var e,n="div",r=[],o={};e=i.exec(t);){var a=e[1],c=e[2];if(""===a&&""!==c)n=c;else if("#"===a)o.id=c;else if("."===a)r.push(c);else if("["===e[3][0]){var s=e[6];s&&(s=s.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),"class"===e[4]?r.push(s):o[e[4]]=""===s?s:s||!0}}return r.length>0&&(o.className=r.join(" ")),u[t]={tag:n,attrs:o}}function l(t,e){var n=e.attrs,o=r.normalizeChildren(e.children),i=a.call(n,"class"),u=i?n.class:n.className;if(e.tag=t.tag,e.attrs=null,e.children=void 0,!c(t.attrs)&&!c(n)){var s={};for(var l in n)a.call(n,l)&&(s[l]=n[l]);n=s}for(var l in t.attrs)a.call(t.attrs,l)&&"className"!==l&&!a.call(n,l)&&(n[l]=t.attrs[l]);for(var l in null==u&&null==t.attrs.className||(n.className=null!=u?null!=t.attrs.className?String(t.attrs.className)+" "+String(u):u:null!=t.attrs.className?t.attrs.className:null),i&&(n.class=null),n)if(a.call(n,l)&&"key"!==l){e.attrs=n;break}return Array.isArray(o)&&1===o.length&&null!=o[0]&&"#"===o[0].tag?e.text=o[0].children:e.children=o,e}t.exports=function(t){if(null==t||"string"!=typeof t&&"function"!=typeof t&&"function"!=typeof t.view)throw Error("The selector must be either a string or a component.");var e=o.apply(1,arguments);return"string"==typeof t&&(e.children=r.normalizeChildren(e.children),"["!==t)?l(u[t]||s(t),e):(e.tag=t,e)}},function(t,e,n){"use strict";var r=n(12);t.exports=function(){var t,e=arguments[this],n=this+1;if(null==e?e={}:("object"!=typeof e||null!=e.tag||Array.isArray(e))&&(e={},n=this),arguments.length===n+1)t=arguments[n],Array.isArray(t)||(t=[t]);else for(t=[];n<arguments.length;)t.push(arguments[n++]);return r("",e.key,e,t)}},function(t,e,n){"use strict";(function(e){var r=n(27);"undefined"!=typeof window?(void 0===window.Promise?window.Promise=r:window.Promise.prototype.finally||(window.Promise.prototype.finally=r.prototype.finally),t.exports=window.Promise):void 0!==e?(void 0===e.Promise?e.Promise=r:e.Promise.prototype.finally||(e.Promise.prototype.finally=r.prototype.finally),t.exports=e.Promise):t.exports=r}).call(this,n(18))},function(t,e,n){"use strict";(function(e){var n=function(t){if(!(this instanceof n))throw new Error("Promise must be called with `new`");if("function"!=typeof t)throw new TypeError("executor must be a function");var r=this,o=[],i=[],u=l(o,!0),a=l(i,!1),c=r._instance={resolvers:o,rejectors:i},s="function"==typeof e?e:setTimeout;function l(t,e){return function n(u){var l;try{if(!e||null==u||"object"!=typeof u&&"function"!=typeof u||"function"!=typeof(l=u.then))s((function(){e||0!==t.length||console.error("Possible unhandled promise rejection:",u);for(var r=0;r<t.length;r++)t[r](u);o.length=0,i.length=0,c.state=e,c.retry=function(){n(u)}}));else{if(u===r)throw new TypeError("Promise can't be resolved w/ itself");f(l.bind(u))}}catch(t){a(t)}}}function f(t){var e=0;function n(t){return function(n){e++>0||t(n)}}var r=n(a);try{t(n(u),r)}catch(t){r(t)}}f(t)};n.prototype.then=function(t,e){var r,o,i=this._instance;function u(t,e,n,u){e.push((function(e){if("function"!=typeof t)n(e);else try{r(t(e))}catch(t){o&&o(t)}})),"function"==typeof i.retry&&u===i.state&&i.retry()}var a=new n((function(t,e){r=t,o=e}));return u(t,i.resolvers,r,!0),u(e,i.rejectors,o,!1),a},n.prototype.catch=function(t){return this.then(null,t)},n.prototype.finally=function(t){return this.then((function(e){return n.resolve(t()).then((function(){return e}))}),(function(e){return n.resolve(t()).then((function(){return n.reject(e)}))}))},n.resolve=function(t){return t instanceof n?t:new n((function(e){e(t)}))},n.reject=function(t){return new n((function(e,n){n(t)}))},n.all=function(t){return new n((function(e,n){var r=t.length,o=0,i=[];if(0===t.length)e([]);else for(var u=0;u<t.length;u++)!function(u){function a(t){o++,i[u]=t,o===r&&e(i)}null==t[u]||"object"!=typeof t[u]&&"function"!=typeof t[u]||"function"!=typeof t[u].then?a(t[u]):t[u].then(a,n)}(u)}))},n.race=function(t){return new n((function(e,n){for(var r=0;r<t.length;r++)t[r].then(e,n)}))},t.exports=n}).call(this,n(28).setImmediate)},function(t,e,n){(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function i(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new i(o.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new i(o.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(44),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(18))},function(t,e,n){"use strict";t.exports=n(45)(window)},function(t,e,n){"use strict";t.exports=function(t){if("[object Object]"!==Object.prototype.toString.call(t))return"";var e=[];for(var n in t)r(n,t[n]);return e.join("&");function r(t,n){if(Array.isArray(n))for(var o=0;o<n.length;o++)r(t+"["+o+"]",n[o]);else if("[object Object]"===Object.prototype.toString.call(n))for(var o in n)r(t+"["+o+"]",n[o]);else e.push(encodeURIComponent(t)+(null!=n&&""!==n?"="+encodeURIComponent(n):""))}}},function(t,e,n){"use strict";t.exports=Object.assign||function(t,e){e&&Object.keys(e).forEach((function(n){t[n]=e[n]}))}},function(t,e,n){"use strict";t.exports=function(t){if(""===t||null==t)return{};"?"===t.charAt(0)&&(t=t.slice(1));for(var e=t.split("&"),n={},r={},o=0;o<e.length;o++){var i=e[o].split("="),u=decodeURIComponent(i[0]),a=2===i.length?decodeURIComponent(i[1]):"";"true"===a?a=!0:"false"===a&&(a=!1);var c=u.split(/\]\[?|\[/),s=r;u.indexOf("[")>-1&&c.pop();for(var l=0;l<c.length;l++){var f=c[l],p=c[l+1],d=""==p||!isNaN(parseInt(p,10));if(""===f)null==n[u=c.slice(0,l).join()]&&(n[u]=Array.isArray(s)?s.length:0),f=n[u]++;else if("__proto__"===f)break;if(l===c.length-1)s[f]=a;else{var h=Object.getOwnPropertyDescriptor(s,f);null!=h&&(h=h.value),null==h&&(s[f]=h=d?[]:{}),s=h}}}return r}},function(t,e,n){var r=n(17);t.exports=function(t){if(Array.isArray(t))return r(t)}},function(t,e){t.exports=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}},function(t,e,n){var r=n(17);t.exports=function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:u}catch(t){r=u}}();var c,s=[],l=!1,f=-1;function p(){l&&c&&(l=!1,c.length?s=c.concat(s):f=-1,s.length&&d())}function d(){if(!l){var t=a(p);l=!0;for(var e=s.length;e;){for(c=s,s=[];++f<e;)c&&c[f].run();f=-1,e=s.length}c=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===u||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function v(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new h(t,e)),1!==s.length||l||a(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e){function n(e,r){return t.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(e,r)}t.exports=n},function(t,e){function n(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=n=function(t){return typeof t}:t.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(e)}t.exports=n},function(t,e,n){"use strict";var r=n(24);r.trust=n(41),r.fragment=n(42),t.exports=r},function(t,e,n){"use strict";var r=n(12);t.exports=function(t){return null==t&&(t=""),r("<",void 0,void 0,t,void 0,void 0)}},function(t,e,n){"use strict";var r=n(12),o=n(25);t.exports=function(){var t=o.apply(0,arguments);return t.tag="[",t.children=r.normalizeChildren(t.children),t}},function(t,e,n){"use strict";var r=n(26),o=n(19);t.exports=n(47)(window,r,o.redraw)},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,o,i,u,a,c=1,s={},l=!1,f=t.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(t);p=p&&p.setTimeout?p:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick((function(){h(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((i=new MessageChannel).port1.onmessage=function(t){h(t.data)},r=function(t){i.port2.postMessage(t)}):f&&"onreadystatechange"in f.createElement("script")?(o=f.documentElement,r=function(t){var e=f.createElement("script");e.onreadystatechange=function(){h(t),e.onreadystatechange=null,o.removeChild(e),e=null},o.appendChild(e)}):r=function(t){setTimeout(h,0,t)}:(u="setImmediate$"+Math.random()+"$",a=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(u)&&h(+e.data.slice(u.length))},t.addEventListener?t.addEventListener("message",a,!1):t.attachEvent("onmessage",a),r=function(e){t.postMessage(u+e,"*")}),p.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var o={callback:t,args:e};return s[c]=o,r(c),c++},p.clearImmediate=d}function d(t){delete s[t]}function h(t){if(l)setTimeout(h,0,t);else{var e=s[t];if(e){l=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}finally{d(t),l=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(18),n(37))},function(t,e,n){"use strict";var r=n(12);t.exports=function(t){var e,n=t&&t.document,o={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};function i(t){return t.attrs&&t.attrs.xmlns||o[t.tag]}function u(t,e){if(t.state!==e)throw new Error("`vnode.state` must not be modified")}function a(t){var e=t.state;try{return this.apply(e,arguments)}finally{u(t,e)}}function c(){try{return n.activeElement}catch(t){return null}}function s(t,e,n,r,o,i,u){for(var a=n;a<r;a++){var c=e[a];null!=c&&l(t,c,o,u,i)}}function l(t,e,o,u,c){var f=e.tag;if("string"==typeof f)switch(e.state={},null!=e.attrs&&V(e.attrs,e,o),f){case"#":!function(t,e,r){e.dom=n.createTextNode(e.children),b(t,e.dom,r)}(t,e,c);break;case"<":p(t,e,u,c);break;case"[":!function(t,e,r,o,i){var u=n.createDocumentFragment();if(null!=e.children){var a=e.children;s(u,a,0,a.length,r,null,o)}e.dom=u.firstChild,e.domSize=u.childNodes.length,b(t,u,i)}(t,e,o,u,c);break;default:!function(t,e,o,u,a){var c=e.tag,l=e.attrs,f=l&&l.is,p=(u=i(e)||u)?f?n.createElementNS(u,c,{is:f}):n.createElementNS(u,c):f?n.createElement(c,{is:f}):n.createElement(c);e.dom=p,null!=l&&function(t,e,n){for(var r in e)C(t,r,null,e[r],n)}(e,l,u);if(b(t,p,a),!w(e)&&(null!=e.text&&(""!==e.text?p.textContent=e.text:e.children=[r("#",void 0,void 0,e.text,void 0,void 0)]),null!=e.children)){var d=e.children;s(p,d,0,d.length,o,null,u),"select"===e.tag&&null!=l&&function(t,e){if("value"in e)if(null===e.value)-1!==t.dom.selectedIndex&&(t.dom.value=null);else{var n=""+e.value;t.dom.value===n&&-1!==t.dom.selectedIndex||(t.dom.value=n)}"selectedIndex"in e&&C(t,"selectedIndex",null,e.selectedIndex,void 0)}(e,l)}}(t,e,o,u,c)}else!function(t,e,n,o,i){(function(t,e){var n;if("function"==typeof t.tag.view){if(t.state=Object.create(t.tag),null!=(n=t.state.view).$$reentrantLock$$)return;n.$$reentrantLock$$=!0}else{if(t.state=void 0,null!=(n=t.tag).$$reentrantLock$$)return;n.$$reentrantLock$$=!0,t.state=null!=t.tag.prototype&&"function"==typeof t.tag.prototype.view?new t.tag(t):t.tag(t)}V(t.state,t,e),null!=t.attrs&&V(t.attrs,t,e);if(t.instance=r.normalize(a.call(t.state.view,t)),t.instance===t)throw Error("A view cannot return the vnode it received as argument");n.$$reentrantLock$$=null})(e,n),null!=e.instance?(l(t,e.instance,n,o,i),e.dom=e.instance.dom,e.domSize=null!=e.dom?e.instance.domSize:0):e.domSize=0}(t,e,o,u,c)}var f={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"};function p(t,e,r,o){var i=e.children.match(/^\s*?<(\w+)/im)||[],u=n.createElement(f[i[1]]||"div");"http://www.w3.org/2000/svg"===r?(u.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+e.children+"</svg>",u=u.firstChild):u.innerHTML=e.children,e.dom=u.firstChild,e.domSize=u.childNodes.length,e.instance=[];for(var a,c=n.createDocumentFragment();a=u.firstChild;)e.instance.push(a),c.appendChild(a);b(t,c,o)}function d(t,e,n,r,o,i){if(e!==n&&(null!=e||null!=n))if(null==e||0===e.length)s(t,n,0,n.length,r,o,i);else if(null==n||0===n.length)x(t,e,0,e.length);else{var u=null!=e[0]&&null!=e[0].key,a=null!=n[0]&&null!=n[0].key,c=0,f=0;if(!u)for(;f<e.length&&null==e[f];)f++;if(!a)for(;c<n.length&&null==n[c];)c++;if(null===a&&null==u)return;if(u!==a)x(t,e,f,e.length),s(t,n,c,n.length,r,o,i);else if(a){for(var p,d,b,w,L,P=e.length-1,O=n.length-1;P>=f&&O>=c&&(b=e[P],w=n[O],b.key===w.key);)b!==w&&h(t,b,w,r,o,i),null!=w.dom&&(o=w.dom),P--,O--;for(;P>=f&&O>=c&&(p=e[f],d=n[c],p.key===d.key);)f++,c++,p!==d&&h(t,p,d,r,y(e,f,o),i);for(;P>=f&&O>=c&&c!==O&&p.key===w.key&&b.key===d.key;)g(t,b,L=y(e,f,o)),b!==d&&h(t,b,d,r,L,i),++c<=--O&&g(t,p,o),p!==w&&h(t,p,w,r,o,i),null!=w.dom&&(o=w.dom),f++,b=e[--P],w=n[O],p=e[f],d=n[c];for(;P>=f&&O>=c&&b.key===w.key;)b!==w&&h(t,b,w,r,o,i),null!=w.dom&&(o=w.dom),O--,b=e[--P],w=n[O];if(c>O)x(t,e,f,P+1);else if(f>P)s(t,n,c,O+1,r,o,i);else{var C,E,T=o,R=O-c+1,_=new Array(R),S=0,j=0,z=2147483647,I=0;for(j=0;j<R;j++)_[j]=-1;for(j=O;j>=c;j--){null==C&&(C=v(e,f,P+1));var A=C[(w=n[j]).key];null!=A&&(z=A<z?A:-1,_[j-c]=A,b=e[A],e[A]=null,b!==w&&h(t,b,w,r,o,i),null!=w.dom&&(o=w.dom),I++)}if(o=T,I!==P-f+1&&x(t,e,f,P+1),0===I)s(t,n,c,O+1,r,o,i);else if(-1===z)for(S=(E=function(t){var e=[0],n=0,r=0,o=0,i=m.length=t.length;for(o=0;o<i;o++)m[o]=t[o];for(o=0;o<i;++o)if(-1!==t[o]){var u=e[e.length-1];if(t[u]<t[o])m[o]=u,e.push(o);else{for(n=0,r=e.length-1;n<r;){var a=(n>>>1)+(r>>>1)+(n&r&1);t[e[a]]<t[o]?n=a+1:r=a}t[o]<t[e[n]]&&(n>0&&(m[o]=e[n-1]),e[n]=o)}}n=e.length,r=e[n-1];for(;n-- >0;)e[n]=r,r=m[r];return m.length=0,e}(_)).length-1,j=O;j>=c;j--)d=n[j],-1===_[j-c]?l(t,d,r,i,o):E[S]===j-c?S--:g(t,d,o),null!=d.dom&&(o=n[j].dom);else for(j=O;j>=c;j--)d=n[j],-1===_[j-c]&&l(t,d,r,i,o),null!=d.dom&&(o=n[j].dom)}}else{var V=e.length<n.length?e.length:n.length;for(c=c<f?c:f;c<V;c++)(p=e[c])===(d=n[c])||null==p&&null==d||(null==p?l(t,d,r,i,y(e,c+1,o)):null==d?k(t,p):h(t,p,d,r,y(e,c+1,o),i));e.length>V&&x(t,e,c,e.length),n.length>V&&s(t,n,c,n.length,r,o,i)}}}function h(t,e,n,o,u,c){var s=e.tag;if(s===n.tag){if(n.state=e.state,n.events=e.events,function(t,e){do{var n;if(null!=t.attrs&&"function"==typeof t.attrs.onbeforeupdate)if(void 0!==(n=a.call(t.attrs.onbeforeupdate,t,e))&&!n)break;if("string"!=typeof t.tag&&"function"==typeof t.state.onbeforeupdate)if(void 0!==(n=a.call(t.state.onbeforeupdate,t,e))&&!n)break;return!1}while(0);return t.dom=e.dom,t.domSize=e.domSize,t.instance=e.instance,t.attrs=e.attrs,t.children=e.children,t.text=e.text,!0}(n,e))return;if("string"==typeof s)switch(null!=n.attrs&&N(n.attrs,n,o),s){case"#":!function(t,e){t.children.toString()!==e.children.toString()&&(t.dom.nodeValue=e.children);e.dom=t.dom}(e,n);break;case"<":!function(t,e,n,r,o){e.children!==n.children?(L(t,e),p(t,n,r,o)):(n.dom=e.dom,n.domSize=e.domSize,n.instance=e.instance)}(t,e,n,c,u);break;case"[":!function(t,e,n,r,o,i){d(t,e.children,n.children,r,o,i);var u=0,a=n.children;if(n.dom=null,null!=a){for(var c=0;c<a.length;c++){var s=a[c];null!=s&&null!=s.dom&&(null==n.dom&&(n.dom=s.dom),u+=s.domSize||1)}1!==u&&(n.domSize=u)}}(t,e,n,o,u,c);break;default:!function(t,e,n,o){var u=e.dom=t.dom;o=i(e)||o,"textarea"===e.tag&&(null==e.attrs&&(e.attrs={}),null!=e.text&&(e.attrs.value=e.text,e.text=void 0));(function(t,e,n,r){if(null!=n)for(var o in n)C(t,o,e&&e[o],n[o],r);var i;if(null!=e)for(var o in e)null==(i=e[o])||null!=n&&null!=n[o]||E(t,o,i,r)})(e,t.attrs,e.attrs,o),w(e)||(null!=t.text&&null!=e.text&&""!==e.text?t.text.toString()!==e.text.toString()&&(t.dom.firstChild.nodeValue=e.text):(null!=t.text&&(t.children=[r("#",void 0,void 0,t.text,void 0,t.dom.firstChild)]),null!=e.text&&(e.children=[r("#",void 0,void 0,e.text,void 0,void 0)]),d(u,t.children,e.children,n,null,o)))}(e,n,o,c)}else!function(t,e,n,o,i,u){if(n.instance=r.normalize(a.call(n.state.view,n)),n.instance===n)throw Error("A view cannot return the vnode it received as argument");N(n.state,n,o),null!=n.attrs&&N(n.attrs,n,o);null!=n.instance?(null==e.instance?l(t,n.instance,o,u,i):h(t,e.instance,n.instance,o,i,u),n.dom=n.instance.dom,n.domSize=n.instance.domSize):null!=e.instance?(k(t,e.instance),n.dom=void 0,n.domSize=0):(n.dom=e.dom,n.domSize=e.domSize)}(t,e,n,o,u,c)}else k(t,e),l(t,n,o,c,u)}function v(t,e,n){for(var r=Object.create(null);e<n;e++){var o=t[e];if(null!=o){var i=o.key;null!=i&&(r[i]=e)}}return r}var m=[];function y(t,e,n){for(;e<t.length;e++)if(null!=t[e]&&null!=t[e].dom)return t[e].dom;return n}function g(t,e,r){var o=n.createDocumentFragment();!function t(e,n,r){for(;null!=r.dom&&r.dom.parentNode===e;){if("string"!=typeof r.tag){if(null!=(r=r.instance))continue}else if("<"===r.tag)for(var o=0;o<r.instance.length;o++)n.appendChild(r.instance[o]);else if("["!==r.tag)n.appendChild(r.dom);else if(1===r.children.length){if(null!=(r=r.children[0]))continue}else for(o=0;o<r.children.length;o++){var i=r.children[o];null!=i&&t(e,n,i)}break}}(t,o,e),b(t,o,r)}function b(t,e,n){null!=n?t.insertBefore(e,n):t.appendChild(e)}function w(t){if(null==t.attrs||null==t.attrs.contenteditable&&null==t.attrs.contentEditable)return!1;var e=t.children;if(null!=e&&1===e.length&&"<"===e[0].tag){var n=e[0].children;t.dom.innerHTML!==n&&(t.dom.innerHTML=n)}else if(null!=t.text||null!=e&&0!==e.length)throw new Error("Child node of a contenteditable must be trusted");return!0}function x(t,e,n,r){for(var o=n;o<r;o++){var i=e[o];null!=i&&k(t,i)}}function k(t,e){var n,r,o,i=0,c=e.state;"string"!=typeof e.tag&&"function"==typeof e.state.onbeforeremove&&(null!=(o=a.call(e.state.onbeforeremove,e))&&"function"==typeof o.then&&(i=1,n=o));e.attrs&&"function"==typeof e.attrs.onbeforeremove&&(null!=(o=a.call(e.attrs.onbeforeremove,e))&&"function"==typeof o.then&&(i|=2,r=o));if(u(e,c),i){if(null!=n){var s=function(){1&i&&((i&=2)||l())};n.then(s,s)}if(null!=r){s=function(){2&i&&((i&=1)||l())};r.then(s,s)}}else O(e),P(t,e);function l(){u(e,c),O(e),P(t,e)}}function L(t,e){for(var n=0;n<e.instance.length;n++)t.removeChild(e.instance[n])}function P(t,e){for(;null!=e.dom&&e.dom.parentNode===t;){if("string"!=typeof e.tag){if(null!=(e=e.instance))continue}else if("<"===e.tag)L(t,e);else{if("["!==e.tag&&(t.removeChild(e.dom),!Array.isArray(e.children)))break;if(1===e.children.length){if(null!=(e=e.children[0]))continue}else for(var n=0;n<e.children.length;n++){var r=e.children[n];null!=r&&P(t,r)}}break}}function O(t){if("string"!=typeof t.tag&&"function"==typeof t.state.onremove&&a.call(t.state.onremove,t),t.attrs&&"function"==typeof t.attrs.onremove&&a.call(t.attrs.onremove,t),"string"!=typeof t.tag)null!=t.instance&&O(t.instance);else{var e=t.children;if(Array.isArray(e))for(var n=0;n<e.length;n++){var r=e[n];null!=r&&O(r)}}}function C(t,e,r,o,i){if("key"!==e&&"is"!==e&&null!=o&&!T(e)&&(r!==o||function(t,e){return"value"===e||"checked"===e||"selectedIndex"===e||"selected"===e&&t.dom===c()||"option"===t.tag&&t.dom.parentNode===n.activeElement}(t,e)||"object"==typeof o)){if("o"===e[0]&&"n"===e[1])return A(t,e,o);if("xlink:"===e.slice(0,6))t.dom.setAttributeNS("http://www.w3.org/1999/xlink",e.slice(6),o);else if("style"===e)z(t.dom,r,o);else if(R(t,e,i)){if("value"===e){if(("input"===t.tag||"textarea"===t.tag)&&t.dom.value===""+o&&t.dom===c())return;if("select"===t.tag&&null!==r&&t.dom.value===""+o)return;if("option"===t.tag&&null!==r&&t.dom.value===""+o)return}"input"===t.tag&&"type"===e?t.dom.setAttribute(e,o):t.dom[e]=o}else"boolean"==typeof o?o?t.dom.setAttribute(e,""):t.dom.removeAttribute(e):t.dom.setAttribute("className"===e?"class":e,o)}}function E(t,e,n,r){if("key"!==e&&"is"!==e&&null!=n&&!T(e))if("o"!==e[0]||"n"!==e[1]||T(e))if("style"===e)z(t.dom,n,null);else if(!R(t,e,r)||"className"===e||"value"===e&&("option"===t.tag||"select"===t.tag&&-1===t.dom.selectedIndex&&t.dom===c())||"input"===t.tag&&"type"===e){var o=e.indexOf(":");-1!==o&&(e=e.slice(o+1)),!1!==n&&t.dom.removeAttribute("className"===e?"class":e)}else t.dom[e]=null;else A(t,e,void 0)}function T(t){return"oninit"===t||"oncreate"===t||"onupdate"===t||"onremove"===t||"onbeforeremove"===t||"onbeforeupdate"===t}function R(t,e,n){return void 0===n&&(t.tag.indexOf("-")>-1||null!=t.attrs&&t.attrs.is||"href"!==e&&"list"!==e&&"form"!==e&&"width"!==e&&"height"!==e)&&e in t.dom}var _=/[A-Z]/g;function S(t){return"-"+t.toLowerCase()}function j(t){return"-"===t[0]&&"-"===t[1]?t:"cssFloat"===t?"float":t.replace(_,S)}function z(t,e,n){if(e===n);else if(null==n)t.style.cssText="";else if("object"!=typeof n)t.style.cssText=n;else if(null==e||"object"!=typeof e)for(var r in t.style.cssText="",n){null!=(o=n[r])&&t.style.setProperty(j(r),String(o))}else{for(var r in n){var o;null!=(o=n[r])&&(o=String(o))!==String(e[r])&&t.style.setProperty(j(r),o)}for(var r in e)null!=e[r]&&null==n[r]&&t.style.removeProperty(j(r))}}function I(){this._=e}function A(t,e,n){if(null!=t.events){if(t.events[e]===n)return;null==n||"function"!=typeof n&&"object"!=typeof n?(null!=t.events[e]&&t.dom.removeEventListener(e.slice(2),t.events,!1),t.events[e]=void 0):(null==t.events[e]&&t.dom.addEventListener(e.slice(2),t.events,!1),t.events[e]=n)}else null==n||"function"!=typeof n&&"object"!=typeof n||(t.events=new I,t.dom.addEventListener(e.slice(2),t.events,!1),t.events[e]=n)}function V(t,e,n){"function"==typeof t.oninit&&a.call(t.oninit,e),"function"==typeof t.oncreate&&n.push(a.bind(t.oncreate,e))}function N(t,e,n){"function"==typeof t.onupdate&&n.push(a.bind(t.onupdate,e))}return I.prototype=Object.create(null),I.prototype.handleEvent=function(t){var e,n=this["on"+t.type];"function"==typeof n?e=n.call(t.currentTarget,t):"function"==typeof n.handleEvent&&n.handleEvent(t),this._&&!1!==t.redraw&&(0,this._)(),!1===e&&(t.preventDefault(),t.stopPropagation())},function(t,n,o){if(!t)throw new TypeError("Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.");var i=[],u=c(),a=t.namespaceURI;null==t.vnodes&&(t.textContent=""),n=r.normalizeChildren(Array.isArray(n)?n:[n]);var s=e;try{e="function"==typeof o?o:void 0,d(t,t.vnodes,n,i,null,"http://www.w3.org/1999/xhtml"===a?void 0:a)}finally{e=s}t.vnodes=n,null!=u&&c()!==u&&"function"==typeof u.focus&&u.focus();for(var l=0;l<i.length;l++)i[l]()}}},function(t,e,n){"use strict";var r=n(12);t.exports=function(t,e,n){var o=[],i=!1,u=!1;function a(){if(i)throw new Error("Nested m.redraw.sync() call");i=!0;for(var e=0;e<o.length;e+=2)try{t(o[e],r(o[e+1]),c)}catch(t){n.error(t)}i=!1}function c(){u||(u=!0,e((function(){u=!1,a()})))}return c.sync=a,{mount:function(e,n){if(null!=n&&null==n.view&&"function"!=typeof n)throw new TypeError("m.mount(element, component) expects a component, not a vnode");var i=o.indexOf(e);i>=0&&(o.splice(i,2),t(e,[],c)),null!=n&&(o.push(e,n),t(e,r(n),c))},redraw:c}}},function(t,e,n){"use strict";var r=n(20);t.exports=function(t,e,n){var o=0;function i(t){return new e(t)}function u(t){return function(o,u){"string"!=typeof o?(u=o,o=o.url):null==u&&(u={});var a=new e((function(e,n){t(r(o,u.params),u,(function(t){if("function"==typeof u.type)if(Array.isArray(t))for(var n=0;n<t.length;n++)t[n]=new u.type(t[n]);else t=new u.type(t);e(t)}),n)}));if(!0===u.background)return a;var c=0;function s(){0==--c&&"function"==typeof n&&n()}return function t(e){var n=e.then;return e.constructor=i,e.then=function(){c++;var r=n.apply(e,arguments);return r.then(s,(function(t){if(s(),0===c)throw t})),t(r)},e}(a)}}function a(t,e){for(var n in t.headers)if({}.hasOwnProperty.call(t.headers,n)&&e.test(n))return!0;return!1}return i.prototype=e.prototype,i.__proto__=e,{request:u((function(e,n,r,o){var i,u=null!=n.method?n.method.toUpperCase():"GET",c=n.body,s=!(null!=n.serialize&&n.serialize!==JSON.serialize||c instanceof t.FormData),l=n.responseType||("function"==typeof n.extract?"":"json"),f=new t.XMLHttpRequest,p=!1,d=f,h=f.abort;for(var v in f.abort=function(){p=!0,h.call(this)},f.open(u,e,!1!==n.async,"string"==typeof n.user?n.user:void 0,"string"==typeof n.password?n.password:void 0),s&&null!=c&&!a(n,/^content-type$/i)&&f.setRequestHeader("Content-Type","application/json; charset=utf-8"),"function"==typeof n.deserialize||a(n,/^accept$/i)||f.setRequestHeader("Accept","application/json, text/*"),n.withCredentials&&(f.withCredentials=n.withCredentials),n.timeout&&(f.timeout=n.timeout),f.responseType=l,n.headers)({}).hasOwnProperty.call(n.headers,v)&&f.setRequestHeader(v,n.headers[v]);f.onreadystatechange=function(t){if(!p&&4===t.target.readyState)try{var i,u=t.target.status>=200&&t.target.status<300||304===t.target.status||/^file:\/\//i.test(e),a=t.target.response;if("json"===l?t.target.responseType||"function"==typeof n.extract||(a=JSON.parse(t.target.responseText)):l&&"text"!==l||null==a&&(a=t.target.responseText),"function"==typeof n.extract?(a=n.extract(t.target,n),u=!0):"function"==typeof n.deserialize&&(a=n.deserialize(a)),u)r(a);else{try{i=t.target.responseText}catch(t){i=a}var c=new Error(i);c.code=t.target.status,c.response=a,o(c)}}catch(t){o(t)}},"function"==typeof n.config&&(f=n.config(f,n,e)||f)!==d&&(i=f.abort,f.abort=function(){p=!0,i.call(this)}),null==c?f.send():"function"==typeof n.serialize?f.send(n.serialize(c)):c instanceof t.FormData?f.send(c):f.send(JSON.stringify(c))})),jsonp:u((function(e,n,r,i){var u=n.callbackName||"_mithril_"+Math.round(1e16*Math.random())+"_"+o++,a=t.document.createElement("script");t[u]=function(e){delete t[u],a.parentNode.removeChild(a),r(e)},a.onerror=function(){delete t[u],a.parentNode.removeChild(a),i(new Error("JSONP request failed"))},a.src=e+(e.indexOf("?")<0?"?":"&")+encodeURIComponent(n.callbackKey||"callback")+"="+encodeURIComponent(u),t.document.documentElement.appendChild(a)}))}}},function(t,e,n){"use strict";var r=n(19);t.exports=n(49)(window,r)},function(t,e,n){"use strict";(function(e){var r=n(12),o=n(24),i=n(26),u=n(20),a=n(21),c=n(50),s=n(31),l={};t.exports=function(t,n){var f;function p(e,n,r){if(e=u(e,n),null!=f){f();var o=r?r.state:null,i=r?r.title:null;r&&r.replace?t.history.replaceState(o,i,b.prefix+e):t.history.pushState(o,i,b.prefix+e)}else t.location.href=b.prefix+e}var d,h,v,m,y=l,g=b.SKIP={};function b(o,u,w){if(null==o)throw new Error("Ensure the DOM element that was passed to `m.route` is not undefined");var x,k=0,L=Object.keys(w).map((function(t){if("/"!==t[0])throw new SyntaxError("Routes must start with a `/`");if(/:([^\/\.-]+)(\.{3})?:/.test(t))throw new SyntaxError("Route parameter names must be separated with either `/`, `.`, or `-`");return{route:t,component:w[t],check:c(t)}})),P="function"==typeof e?e:setTimeout,O=i.resolve(),C=!1;if(f=null,null!=u){var E=a(u);if(!L.some((function(t){return t.check(E)})))throw new ReferenceError("Default route doesn't match any known routes")}function T(){C=!1;var e=t.location.hash;"#"!==b.prefix[0]&&(e=t.location.search+e,"?"!==b.prefix[0]&&"/"!==(e=t.location.pathname+e)[0]&&(e="/"+e));var r=e.concat().replace(/(?:%[a-f89][a-f0-9])+/gim,decodeURIComponent).slice(b.prefix.length),o=a(r);function i(){if(r===u)throw new Error("Could not resolve default route "+u);p(u,null,{replace:!0})}s(o.params,t.history.state),function t(e){for(;e<L.length;e++)if(L[e].check(o)){var u=L[e].component,a=L[e].route,c=u,s=m=function(i){if(s===m){if(i===g)return t(e+1);d=null==i||"function"!=typeof i.view&&"function"!=typeof i?"div":i,h=o.params,v=r,m=null,y=u.render?u:null,2===k?n.redraw():(k=2,n.redraw.sync())}};return void(u.view||"function"==typeof u?(u={},s(c)):u.onmatch?O.then((function(){return u.onmatch(o.params,r,a)})).then(s,i):s("div"))}i()}(0)}return f=function(){C||(C=!0,P(T))},"function"==typeof t.history.pushState?(x=function(){t.removeEventListener("popstate",f,!1)},t.addEventListener("popstate",f,!1)):"#"===b.prefix[0]&&(f=null,x=function(){t.removeEventListener("hashchange",T,!1)},t.addEventListener("hashchange",T,!1)),n.mount(o,{onbeforeupdate:function(){return!(!(k=k?2:1)||l===y)},oncreate:T,onremove:x,view:function(){if(k&&l!==y){var t=[r(d,h.key,h)];return y&&(t=y.render(t[0])),t}}})}return b.set=function(t,e,n){null!=m&&((n=n||{}).replace=!0),m=null,p(t,e,n)},b.get=function(){return v},b.prefix="#!",b.Link={view:function(t){var e,n,r=t.attrs.options,i={};s(i,t.attrs),i.selector=i.options=i.key=i.oninit=i.oncreate=i.onbeforeupdate=i.onupdate=i.onbeforeremove=i.onremove=null;var u=o(t.attrs.selector||"a",i,t.children);return(u.attrs.disabled=Boolean(u.attrs.disabled))?(u.attrs.href=null,u.attrs["aria-disabled"]="true",u.attrs.onclick=null):(e=u.attrs.onclick,n=u.attrs.href,u.attrs.href=b.prefix+n,u.attrs.onclick=function(t){var o;"function"==typeof e?o=e.call(t.currentTarget,t):null==e||"object"!=typeof e||"function"==typeof e.handleEvent&&e.handleEvent(t),!1===o||t.defaultPrevented||0!==t.button&&0!==t.which&&1!==t.which||t.currentTarget.target&&"_self"!==t.currentTarget.target||t.ctrlKey||t.metaKey||t.shiftKey||t.altKey||(t.preventDefault(),t.redraw=!1,b.set(n,null,r))}),u}},b.param=function(t){return h&&null!=t?h[t]:h},b}}).call(this,n(28).setImmediate)},function(t,e,n){"use strict";var r=n(21);t.exports=function(t){var e=r(t),n=Object.keys(e.params),o=[],i=new RegExp("^"+e.path.replace(/:([^\/.-]+)(\.{3}|\.(?!\.)|-)?|[\\^$*+.()|\[\]{}]/g,(function(t,e,n){return null==e?"\\"+t:(o.push({k:e,r:"..."===n}),"..."===n?"(.*)":"."===n?"([^/]+)\\.":"([^/]+)"+(n||""))}))+"$");return function(t){for(var r=0;r<n.length;r++)if(e.params[n[r]]!==t.params[n[r]])return!1;if(!o.length)return i.test(t.path);var u=i.exec(t.path);if(null==u)return!1;for(r=0;r<o.length;r++)t.params[o[r].k]=o[r].r?u[r+1]:decodeURIComponent(u[r+1]);return!0}}},function(t,e,n){var r=n(1);t.exports=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=r(t)););return t}},function(t,e,n){},,,,,,,function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"component_getValue",(function(){return z})),n.d(r,"component_setValue",(function(){return I})),n.d(r,"component_add",(function(){return A})),n.d(r,"component_watch",(function(){return V})),n.d(r,"component_ticker",(function(){return N})),n.d(r,"component_branch",(function(){return D})),n.d(r,"component_box",(function(){return M})),n.d(r,"component_button",(function(){return F}));var o={};n.r(o),n.d(o,"component_getValue",(function(){return Q})),n.d(o,"component_setValue",(function(){return W})),n.d(o,"component_add",(function(){return Z})),n.d(o,"component_watch",(function(){return tt})),n.d(o,"component_ticker",(function(){return et})),n.d(o,"component_branch",(function(){return nt})),n.d(o,"component_box",(function(){return rt})),n.d(o,"component_button",(function(){return ot}));n(52);var i=n(2),u=n.n(i),a=n(3),c=n.n(a),s=n(5),l=n.n(s),f=n(7),p=n.n(f),d=n(1),h=n.n(d),v=n(8),m=n.n(v),y=n(0),g=n(9),b=n(4),w=n.n(b),x=function(){function t(){u()(this,t),this._id=g.a.guid(),this.self=this,this.redraw=!0}return c()(t,[{key:"onbeforeupdate",value:function(t,e){return void 0!==t.attrs.redraw&&(this.self.redraw=t.attrs.redraw),this.self.redraw}},{key:"onupdate",value:function(t){this.self.redraw=!1}},{key:"view",value:function(){}},{key:"id",get:function(){return this._id}}]),t}();function k(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h()(t);if(e){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var L=function(t){l()(n,t);var e=k(n);function n(){var t;return u()(this,n),(t=e.call(this))._active=!1,t._activeTime=-1,t._select=!1,t._hover=!1,t._dragHover=!1,t}return c()(n,[{key:"onExecute",value:function(t){this._activeTime>=0&&(t-this._activeTime<500?this._active||(this._active=!0,this.redraw=!0,w.a.redraw()):this._active&&(this._active=!1,this.redraw=!0,w.a.redraw()))}}]),n}(x);function P(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h()(t);if(e){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var O=function(t){l()(n,t);var e=P(n);function n(){var t;return u()(this,n),(t=e.call(this)).root=null,t._startPos=[0,0],t._endPos=[0,0],t}return c()(n,[{key:"connect",value:function(t,e,n,r){t.addOutputLine(e,this),n.addInputLine(r,this),this.output={component:t,num:e},this.input={component:n,num:r},this.type=t.code.outputList[e].type}},{key:"view",value:function(){return w()("path.line",{class:"".concat(this.self.type," ").concat(this.self._active?"active":""),d:this.getLinePath(this.self._startPos,this.self._endPos)})}},{key:"getLinePath",value:function(t,e){var n=y.a.mul(y.a.sub(e,t),[1,.05]);return n[0]=g.a.clamp(Math.abs(n[0]),40,150),"M ".concat(t," C ").concat(y.a.add(t,n)," ").concat(y.a.add(e,y.a.scale(n,-1))," ").concat(e)}},{key:"startPos",get:function(){return this._startPos},set:function(t){y.b.set.apply(y.b,[this._startPos].concat(m()(t))),this.redraw=!0,w.a.redraw()}},{key:"endPos",get:function(){return this._endPos},set:function(t){y.b.set.apply(y.b,[this._endPos].concat(m()(t))),this.redraw=!0,w.a.redraw()}}]),n}(L),C=n(6),E=n.n(C),T=n(11),R=n(16);function _(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h()(t);if(e){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var S=function(t){l()(n,t);var e=_(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u()(this,n),(t=e.call(this)).properties={},Object(R.a)(t.properties,r),t.type="",t.root=null,t.inputList=[],t.outputList=[],t.list=[],t.valueList=Object(R.b)({}),t.valueList.on("change",(function(e,n,r){t.fire("setValue",e,n)})),t}return c()(n,[{key:"init",value:function(t){var e=this;this.root=t,this.root.list.push(this),this.on("action",(function(){e.nextFlow()}))}},{key:"addValue",value:function(t,e){this.valueList.add(t,e),this.fire("addValue",t,e)}},{key:"getValue",value:function(t){return this.valueList[t]}},{key:"setValue",value:function(t,e){this.valueList[t]=e}},{key:"connect",value:function(t,e,n,r){var o=t.outputList[e],i=n.inputList[r];o.type==i.type&&("Exec"!=o.type&&i.connectList.length&&n.removeInputConnect(r),i.connectList.push({component:t,num:e}),o.connectList.push({component:n,num:r}),"Exec"!=o.type&&(i.data=o.data),"flow"!=t.type&&t.nextFlow(),this.fire("connect",t,e,n,r))}},{key:"unconnect",value:function(t,e,n,r){var o=t.outputList[e],i=n.inputList[r];o&&i&&(o.connectList=o.connectList.filter((function(t){return t.component!=n||t.num!=r})),i.connectList=i.connectList.filter((function(n){return n.component!=t||n.num!=e})),i.data=null,n.resetFlow(),this.fire("unconnect",t,e,n,r))}},{key:"addInput",value:function(t,e){this.inputList.push({name:t,type:e,connectList:[],data:void 0})}},{key:"addOutput",value:function(t,e){this.outputList.push({name:t,type:e,connectList:[],data:{value:void 0}})}},{key:"removeInputConnect",value:function(t){var e=this;this.inputList[t].connectList.forEach((function(n){e.root.unconnect(n.component,n.num,e,t)}))}},{key:"removeOutputConnect",value:function(t){var e=this;this.outputList[t].connectList.forEach((function(n){e.root.unconnect(e,t,n.component,n.num)}))}},{key:"getInputValue",value:function(t){var e,n;return null===(e=this.inputList[t])||void 0===e||null===(n=e.data)||void 0===n?void 0:n.value}},{key:"getOutputValue",value:function(t){var e,n;return null===(e=this.outputList[t])||void 0===e||null===(n=e.data)||void 0===n?void 0:n.value}},{key:"setOutputValue",value:function(t,e){var n,r=null===(n=this.outputList[t])||void 0===n?void 0:n.data;r&&(r.value=e)}},{key:"trigger",value:function(t){var e=this,n=this.outputList[t];"Exec"==n.type&&(this.fire("trigger",t,n),n.connectList.forEach((function(n){n.component.fire("action",n.num,{component:e,num:t})})))}},{key:"getValTriggerList",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return t.has(this)&&t.delete(this),t.add(this),this.getOutputComponent().forEach((function(e){"flow"!=e.type&&e.getValTriggerList(t)})),t}},{key:"getOutputComponent",value:function(){return new Set(this.outputList.flatMap((function(t){return t.connectList.map((function(t){return t.component}))})))}},{key:"calcOutputs",value:function(t){}},{key:"resetFlow",value:function(t){var e;(t=null!==(e=t)&&void 0!==e?e:Array.from(this.getValTriggerList())).forEach((function(t,e){t.outputList.forEach((function(t){t.data.bool=!1,t.data.value=void 0}))}))}},{key:"nextFlow",value:function(t){var e;t=null!==(e=t)&&void 0!==e?e:Array.from(this.getValTriggerList()),this.resetFlow(t),t.every((function(t){var e,n=t.inputList.map((function(t){var e;return null==t||null===(e=t.data)||void 0===e?void 0:e.value})),r=null===(e=t.calcOutputs(n))||void 0===e||e;return r&&t.fire("calcComplete"),r}))}},{key:"onExecute",value:function(){}}]),n}(T.a);function j(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h()(t);if(e){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var z=function(t){l()(n,t);var e=j(n);function n(){return u()(this,n),e.apply(this,arguments)}return c()(n,[{key:"init",value:function(t){var e=this;E()(h()(n.prototype),"init",this).call(this,t);var r=t.valueList[this.properties.refName];t.valueList.on("change",(function(t,n,r){e.properties.refName==t&&e.nextFlow()})),this.addOutput("val",r.constructor.name)}},{key:"calcOutputs",value:function(t){this.setOutputValue(0,this.getValue())}},{key:"getValue",value:function(){return this.root.getValue(this.properties.refName)}}]),n}(S),I=function(t){l()(n,t);var e=j(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u()(this,n),(t=e.call(this,r)).type="flow",t}return c()(n,[{key:"init",value:function(t){var e,r=this;E()(h()(n.prototype),"init",this).call(this,t),this.properties.value=null!==(e=this.properties.value)&&void 0!==e?e:t.getValue(this.properties.refName),this.addInput("in0","Exec"),this.addInput("in1","Number"),this.addOutput("out0","Exec"),this.on("action",(function(){var e;t.setValue(r.properties.refName,null!==(e=r.getInputValue(1))&&void 0!==e?e:r.properties.value),r.trigger(0)}))}}]),n}(S),A=function(t){l()(n,t);var e=j(n);function n(){return u()(this,n),e.apply(this,arguments)}return c()(n,[{key:"init",value:function(t){E()(h()(n.prototype),"init",this).call(this,t),this.addInput("num0","Number"),this.addInput("num1","Number"),this.addOutput("sum","Number")}},{key:"calcOutputs",value:function(t){if(void 0===t[0]||void 0===t[1])return!1;this.setOutputValue(0,t[0]+t[1])}}]),n}(S),V=function(t){l()(n,t);var e=j(n);function n(){return u()(this,n),e.apply(this,arguments)}return c()(n,[{key:"init",value:function(t){E()(h()(n.prototype),"init",this).call(this,t),this.addInput("val","Number")}},{key:"calcOutputs",value:function(t){}}]),n}(S),N=function(t){l()(n,t);var e=j(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u()(this,n),(t=e.call(this,r)).type="flow",t}return c()(n,[{key:"init",value:function(t){var e=this;E()(h()(n.prototype),"init",this).call(this,t),this.addOutput("out0","Exec"),setInterval((function(){e.trigger(0)}),1e3)}}]),n}(S),D=function(t){l()(n,t);var e=j(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u()(this,n),(t=e.call(this,r)).type="flow",t}return c()(n,[{key:"init",value:function(t){var e=this;E()(h()(n.prototype),"init",this).call(this,t),this.addInput("in0","Exec"),this.addInput("bool","Boolean"),this.addOutput("true","Exec"),this.addOutput("false","Exec"),this.addOutput("out","Number"),this.on("action",(function(t,n){void 0!==e.getInputValue(1)&&e.trigger(e.getInputValue(1)?0:1)}))}},{key:"calcOutputs",value:function(t){if(void 0===t[1])return!1;this.setOutputValue(2,t[1]?1:0)}}]),n}(S),M=function(t){l()(n,t);var e=j(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u()(this,n),(t=e.call(this,r)).type="flow",t}return c()(n,[{key:"init",value:function(t){var e=this;E()(h()(n.prototype),"init",this).call(this,t),this.addInput("in","Exec"),this.addOutput("out","Exec"),this.on("action",(function(t,n){e.trigger(0)}))}}]),n}(S),F=function(t){l()(n,t);var e=j(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u()(this,n),(t=e.call(this,r)).type="flow",t}return c()(n,[{key:"init",value:function(t){E()(h()(n.prototype),"init",this).call(this,t),this.addOutput("out0","Exec")}}]),n}(S),$=n(14);function H(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h()(t);if(e){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var G=function t(e,n){if(e){var r=!0;n(e,{stopPropagation:function(){r=!1}}),r&&t(e.parent,n)}},q=function(t,e){if(e&&U(t,e.collisionGraph)){for(var n=0;n<e.children.length;n++){var r=e.children[n],o=q(t,r);if(o)return o}return e}},U=function(t,e){if("rect"==e.type)return n=t,r=e.pos,o=e.size,n[0]<=r[0]+o[0]&&r[0]<=n[0]&&n[1]<=r[1]+o[1]&&r[1]<=n[1];var n,r,o},X=function(t){l()(n,t);var e=H(n);function n(t){var r;return u()(this,n),(r=e.call(this)).id=null!=t?t:g.a.guid(),r.parent=null,r.collisionGraph=null,r.children=[],r.src=null,r}return c()(n,[{key:"setCollisionGraph",value:function(t){this.collisionGraph=t}},{key:"rectHitTest",value:function(t,e){var n,r,o,i;if("rect"==this.collisionGraph.type)return n=t,r=e,o=this.collisionGraph.pos,i=this.collisionGraph.size,n[0]<=o[0]+i[0]&&o[0]<=n[0]+r[0]&&n[1]<=o[1]+i[1]&&o[1]<=n[1]+r[1]}},{key:"add",value:function(t){t.parent=this,this.children.push(t)}},{key:"pointDeepHitTest",value:function(t){return q(t,this)}},{key:"setTop",value:function(t){!function(t,e){var n=function(t,e){var n,r;return(null==e||null===(n=e.src)||void 0===n?void 0:n.zindex)-(null==t||null===(r=t.src)||void 0===r?void 0:r.zindex)},r=t.filter((function(t){return!e.find((function(e){return t.id===e.id}))}));e.sort(n),r.sort(n),[].concat(m()(e),m()(r)).forEach((function(t,e,n){t.src&&(t.src.zindex=n.length-e)})),t.sort(n)}(this.children,t)}},{key:"bubbleFire",value:function(t,e){for(var n,r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];e=null!==(n=e)&&void 0!==n?n:{},G(this,(function(n,r){Object(R.a)(e,{stopPropagation:r.stopPropagation}),n.fire.apply(n,[t,e].concat(o))}))}}]),n}(T.a);function B(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h()(t);if(e){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var K=function(t){l()(n,t);var e=B(n);function n(){return u()(this,n),e.apply(this,arguments)}return c()(n,[{key:"view",value:function(t){return w()("div",{class:t.attrs.class},t.attrs._list.map((function(t,e){return w()("div",{class:"item ".concat(t.data.type," ").concat(t.control.src.hover?"hover":"")},[w()("div",{class:"point"}),w()("div",{class:"text",textContent:t.data.name})])})))}}]),n}(x),Y=function(t){l()(n,t);var e=B(n);function n(t){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return u()(this,n),(r=e.call(this)).inputLineList=[],r.outputLineList=[],r.inputList=[],r.outputList=[],r.putsRedraw=!1,r.style={pos:[0,0],size:[void 0,void 0],zindex:void 0},Object(R.a)(r.style,o),r.control=null,r.setCode(t),r}return c()(n,[{key:"oncreate",value:function(t){this.self.element=t.dom,this.self.resize()}},{key:"resize",value:function(){var t,e,n=Object($.d)(this.element);n[0]=null!==(t=this.style.size[0])&&void 0!==t?t:n[0],n[1]=null!==(e=this.style.size[1])&&void 0!==e?e:n[1],this.size=n}},{key:"onupdate",value:function(t){E()(h()(n.prototype),"onupdate",this).call(this,t),this.self.putsRedraw=!1}},{key:"init",value:function(t){this.root=t,this.zindex=this.root.code.list.length,this.control=this.createControl(),this.control&&this.root.addControl(this.control)}},{key:"createControl",value:function(){var t=this,e=new X;e.setCollisionGraph({type:"rect",pos:this.pos,size:this.size}),e.src=this,e.on("start",(function(n){t.select||(t.root.setOperate(""),t.root.selectRange=[e],t.root.setOperate("selectActive")),e.parent&&e.parent.setTop(t.root.selectList),n.stopPropagation()})),e.on("selectDrag",(function(e){"selectActive"==t.root.operate&&t.select&&(t.pos=y.a.add(t.pos,e.movePos)),e.stopPropagation()})),e.on("end",(function(t){})),e.on("select",(function(e){t.select=!0})),e.on("unselect",(function(e){t.select=!1})),e.on("enter",(function(e){t.hover=!0})),e.on("leave",(function(e){t.hover=!1}));var n=this;return this.inputList=this.code.inputList.map((function(r,o){var i=new X,u={hover:!1},a={get hover(){return u.hover},set hover(t){u.hover=t,n.redraw=!0,n.putsRedraw=!0,w.a.redraw()}};return i.src=a,i.setCollisionGraph({type:"rect",get pos(){return y.a.sub(n.getInputPos(o),[5,5])},get size(){return[10,10]}}),i.on("enter",(function(t){a.hover=!0,t.stopPropagation()})),i.on("leave",(function(t){a.hover=!1,t.stopPropagation()})),i.on("start",(function(e){t.root.setOperate(""),e.stopPropagation()})),i.on("release",(function(e){if("connectLine"==t.root.operate){if(n.root.connectLine.input&&n.root.connectLine.output){var r=n.root.connectLine.input,o=n.root.connectLine.output;n.root.connect(o.component,o.num,r.component,r.num)}t.root.setOperate(""),e.stopPropagation()}})),i.on("dragEnter",(function(e){"connectLine"==t.root.operate&&(console.log("拖曳滑入"),n.root.connectLine.input={component:n,num:o},e.stopPropagation())})),i.on("click",(function(e){t.removeInputConnect(o),e.stopPropagation()})),e.add(i),{control:i,data:r}})),this.outputList=this.code.outputList.map((function(r,o){var i=new X,u={hover:!1},a={get hover(){return u.hover},set hover(t){u.hover=t,n.redraw=!0,n.putsRedraw=!0,w.a.redraw()}};return i.src=a,i.setCollisionGraph({type:"rect",get pos(){return y.a.sub(n.getOutputPos(o),[5,5])},get size(){return[10,10]}}),i.on("enter",(function(t){a.hover=!0,t.stopPropagation()})),i.on("leave",(function(t){a.hover=!1,t.stopPropagation()})),i.on("start",(function(e){t.root.setOperate(""),e.stopPropagation()})),i.on("dragLeave",(function(e){console.log("拖曳滑出"),n.root.connectLine.output={component:n,num:o},t.root.setOperate("connectLine"),e.stopPropagation()})),i.on("click",(function(e){"connectLine"!=t.root.operate&&(n.root.connectLine.output||(t.removeOutputConnect(o),e.stopPropagation()))})),e.add(i),{control:i,data:r}})),e}},{key:"setCode",value:function(t){var e=this;this.code=t,this.code.properties.graph=this,this.code.on("trigger",(function(t,n){e._activeTime=e.root.time,e.outputLineList[t]&&e.outputLineList[t].forEach((function(t){t._activeTime=e.root.time}))})),this.code.on("action",(function(t,n){e._activeTime=e.root.time,e.update()})),this.code.on("calcComplete",(function(t,n){e.update()}))}},{key:"calcStyleValue",value:function(t){return"number"==typeof t?t+"px":null!=t?t:""}},{key:"calcStyle",value:function(){return{left:this.calcStyleValue(this.style.pos[0]),top:this.calcStyleValue(this.style.pos[1]),zIndex:this.style.zindex,width:this.calcStyleValue(this.style.size[0]),height:this.calcStyleValue(this.style.size[1])}}},{key:"view",value:function(t){return w()("div.flowGraph",{key:this._id,class:"flow_".concat(this.code.properties.componentName," \n        ").concat(this.self._active?"active":""," ").concat(this.self._select?"select":""," ").concat(this.self._hover?"hover":""),style:this.self.calcStyle()},[w()("div.title",this.self.getTitle()),w()("div.wrap",[w()("div.content",[w()(K,{class:"inputs",_list:this.self.inputList,redraw:this.self.putsRedraw}),w()("div.slotContent",this.self.getSlots()),w()(K,{class:"outputs",_list:this.self.outputList,redraw:this.self.putsRedraw})])])])}},{key:"getTitle",value:function(){var t;return w()("div",{textContent:null!==(t=this.code.properties.title)&&void 0!==t?t:this.code.properties.componentName})}},{key:"getSlots",value:function(){}},{key:"getInputPos",value:function(t){return y.a.add(this.style.pos,[10,30+25*(t+.5)])}},{key:"getOutputPos",value:function(t){var e;return y.a.add(this.style.pos,[(null!==(e=this.style.size[0])&&void 0!==e?e:0)-10,30+25*(t+.5)])}},{key:"addInputLine",value:function(t,e){this.inputLineList[t]||(this.inputLineList[t]=[]),this.inputLineList[t].push(e)}},{key:"addOutputLine",value:function(t,e){this.outputLineList[t]||(this.outputLineList[t]=[]),this.outputLineList[t].push(e)}},{key:"removeInputConnect",value:function(t){this.code.removeInputConnect(t)}},{key:"removeOutputConnect",value:function(t){this.code.removeOutputConnect(t)}},{key:"updateLine",value:function(){var t=this;this.inputLineList.forEach((function(e,n){e&&e.forEach((function(e){e.endPos=t.getInputPos(n)}))})),this.outputLineList.forEach((function(e,n){e&&e.forEach((function(e){e.startPos=t.getOutputPos(n)}))}))}},{key:"update",value:function(){Array.from(this.code.getValTriggerList()).forEach((function(t){t.properties.graph.redraw=!0})),w.a.redraw()}},{key:"zindex",get:function(){return this.style.zindex},set:function(t){this.style.zindex=t,this.redraw=!0,w.a.redraw()}},{key:"pos",get:function(){return this.style.pos},set:function(t){this.style.pos[0]===t[0]&&this.style.pos[1]===t[1]||(y.b.set.apply(y.b,[this.style.pos].concat(m()(t))),this.redraw=!0,w.a.redraw(),this.updateLine())}},{key:"size",get:function(){return this.style.size},set:function(t){this.style.size[0]===t[0]&&this.style.size[1]===t[1]||(y.b.set.apply(y.b,[this.style.size].concat(m()(t))),this.redraw=!0,w.a.redraw(),this.updateLine())}},{key:"select",get:function(){return this._select},set:function(t){this._select!==t&&(this._select=t,this.redraw=!0,w.a.redraw())}},{key:"hover",get:function(){return this._hover},set:function(t){this._hover!==t&&(this._hover=t,this.redraw=!0,w.a.redraw())}},{key:"dragHover",get:function(){return this._dragHover},set:function(t){this._dragHover!==t&&(this._dragHover=t)}}]),n}(L);function J(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h()(t);if(e){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var Q=function(t){l()(n,t);var e=J(n);function n(){return u()(this,n),e.apply(this,arguments)}return c()(n,[{key:"getTitle",value:function(){return[E()(h()(n.prototype),"getTitle",this).call(this),w()("div","變數 ".concat(this.code.properties.refName))]}},{key:"getSlots",value:function(){return w()("div.refvalue","".concat(this.code.getValue()))}}]),n}(Y),W=function(t){l()(n,t);var e=J(n);function n(){return u()(this,n),e.apply(this,arguments)}return c()(n,[{key:"getTitle",value:function(){return[E()(h()(n.prototype),"getTitle",this).call(this),w()("div","變數 ".concat(this.code.properties.refName))]}},{key:"getSlots",value:function(){var t=this;return w()("input.inputText",{type:"text",value:this.code.properties.value,onmousedown:function(t){t.stopPropagation()},oninput:function(e){var n=e.currentTarget.value;""!==n&&(t.code.properties.value=parseFloat(n))},onblur:function(e){""===e.currentTarget.value&&(e.currentTarget.value=t.code.properties.value)}})}}]),n}(Y),Z=function(t){l()(n,t);var e=J(n);function n(){return u()(this,n),e.apply(this,arguments)}return n}(Y),tt=function(t){l()(n,t);var e=J(n);function n(){return u()(this,n),e.apply(this,arguments)}return c()(n,[{key:"getSlots",value:function(){return w()("div.text",{textContent:this.code.getInputValue(0)})}}]),n}(Y),et=function(t){l()(n,t);var e=J(n);function n(){return u()(this,n),e.apply(this,arguments)}return n}(Y),nt=function(t){l()(n,t);var e=J(n);function n(){return u()(this,n),e.apply(this,arguments)}return n}(Y),rt=function(t){l()(n,t);var e=J(n);function n(){return u()(this,n),e.apply(this,arguments)}return n}(Y),ot=function(t){l()(n,t);var e=J(n);function n(){return u()(this,n),e.apply(this,arguments)}return c()(n,[{key:"getSlots",value:function(){var t=this;return w()("button",{onmousedown:function(t){t.stopPropagation()},onclick:function(){t.code.trigger(0)}},"button")}}]),n}(Y),it=n(10);function ut(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h()(t);if(e){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var at=function(){function t(){u()(this,t)}return c()(t,null,[{key:"START",get:function(){return"start"}},{key:"MOVE",get:function(){return"move"}},{key:"END",get:function(){return"end"}}]),t}(),ct=function(t){l()(n,t);var e=ut(n);function n(t){var r;return u()(this,n),r=e.call(this),t&&r.init(t),r}return c()(n,[{key:"init",value:function(t){var e=this;this.element=t,this.mousedown=!1;var n=[0,0],r=function(){e.mousedown=!1},o=function(t){if(!e.mousedown){t.register=e,t.stopDrag=r,e.mousedown=!0;var o=t.touches?t.touches[0]:t;y.b.set(n,o.pageX,o.pageY),t.mousePos=n,e.fire(at.START,t),t.stopPropagation()}},i=function(t){if(e.mousedown){t.register=e,t.stopDrag=r;var o=t.touches?t.touches[0]:t,i=[0,0];y.b.set(i,o.pageX,o.pageY);var u=y.a.sub(i,n);y.b.set.apply(y.b,[n].concat(i)),t.mousePos=n,t.movePos=u,e.fire(at.MOVE,t),t.stopPropagation()}},u=function(t){if(e.mousedown){t.register=e,t.stopDrag=r,e.mousedown=!1;var o=t.touches?t.touches[0]:t;o&&y.b.set(n,o.pageX,o.pageY),t.mousePos=n,e.fire(at.END,t),t.stopPropagation()}};if(Object(it.c)())this.element.addEventListener("touchstart",o),this.element.addEventListener("touchmove",i),this.element.addEventListener("touchend",u);else{var a=function t(e){window.removeEventListener("mousemove",i),window.removeEventListener("mouseup",t),u(e)};this.element.addEventListener("mousedown",(function(t){window.addEventListener("mousemove",i),window.addEventListener("mouseup",a),o(t)}))}}},{key:"pos",get:function(){return Object($.c)(this.element)},set:function(t){Object($.e)(this.element,t)}}]),n}(T.a);function st(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h()(t);if(e){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var lt=function(t){l()(n,t);var e=st(n);function n(t){var r;u()(this,n),r=e.call(this);var o=new ct(t),i=new $.a(t);r.setCollisionGraph({type:"rect",pos:Object($.c)(t),size:Object($.d)(t)}),r.currentControl=null,r.hoverControl=null,r.pinPos=[0,0],r.mousePos=[0,0];var a=null,c=null;return r.dragRect={pos:[0,0],size:[0,0]},i.on("press",(function(t){c=r.hoverControl,r.hoverControl&&r.hoverControl.bubbleFire("press",{mousePos:t.mousePos,button:t.button})})),i.on("move",(function(t){y.b.set.apply(y.b,[r.mousePos].concat(m()(t.mousePos)));var e=r.pointDeepHitTest(t.mousePos);r.hoverControl!=e&&(r.hoverControl&&r.hoverControl.bubbleFire("leave"),r.hoverControl=e,r.hoverControl&&r.hoverControl.bubbleFire("enter"))})),i.on("release",(function(t){r.hoverControl&&(r.hoverControl.bubbleFire("release",{mousePos:t.mousePos,button:t.button}),r.hoverControl==c&&r.hoverControl.bubbleFire("click",{mousePos:t.mousePos,button:t.button}))})),o.on(at.START,(function(t){a=r.hoverControl,r.currentControl=r.hoverControl,y.b.set.apply(y.b,[r.pinPos].concat(m()(t.mousePos))),r.dragRect=r.calcRect(r.pinPos,t.mousePos),r.currentControl&&r.currentControl.bubbleFire("start",{mousePos:t.mousePos,button:t.button,stopDrag:t.stopDrag})})),o.on(at.MOVE,(function(t){r.dragRect=r.calcRect(r.pinPos,t.mousePos),r.currentControl&&r.currentControl.bubbleFire("drag",{mousePos:t.mousePos,movePos:t.movePos,button:t.button,stopDrag:t.stopDrag}),a!=r.hoverControl&&(a&&r.currentControl==a&&a.bubbleFire("dragLeave",{mousePos:t.mousePos,button:t.button,stopDrag:t.stopDrag}),r.hoverControl&&r.currentControl!=r.hoverControl&&r.hoverControl.bubbleFire("dragEnter",{mousePos:t.mousePos,button:t.button,stopDrag:t.stopDrag}),a=r.hoverControl)})),o.on(at.END,(function(t){r.dragRect=r.calcRect(r.pinPos,t.mousePos),r.currentControl&&r.currentControl.bubbleFire("end",{mousePos:t.mousePos,button:t.button,stopDrag:t.stopDrag})})),r}return c()(n,[{key:"calcRect",value:function(t,e){var n=y.a.min(t,e),r=y.a.max(t,e);return{pos:n,size:y.a.sub(r,n)}}}]),n}(X);function ft(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h()(t);if(e){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var pt=function(t){l()(n,t);var e=ft(n);function n(){var t;return u()(this,n),(t=e.call(this)).valueList={},t.flowGraphList=[],t}return c()(n,[{key:"view",value:function(t){return w()("div.sideMenu",[w()("div",[w()("div.title","變數"),w()("div.content",Object.values(this.self.valueList).map((function(t){return w()(t)})))]),w()("div",[w()("div.title","指令"),w()("div.content")])])}}]),n}(L),dt=function(t){l()(n,t);var e=ft(n);function n(){var t;return u()(this,n),(t=e.call(this)).root=null,t.data=null,t.refName="",t}return c()(n,[{key:"setData",value:function(t){this.data=t}},{key:"view",value:function(t){var e=this;return w()("div.valueMenuItem",[w()("div.name","".concat(this.self.data.name)),w()("input.inputText",{type:"text",value:this.root.getValue(this.refName),onmousedown:function(t){t.stopPropagation()},oninput:function(t){var n=t.currentTarget.value;""!==n&&"Number"==e.data.type&&e.root.setValue(e.refName,parseFloat(n))},onblur:function(t){""===t.currentTarget.value&&e.root.setValue(e.refName,e.data.value)}}),w()("div.button","get"),w()("div.button","set")])}}]),n}(L),ht=new(function(){function t(e){var n=this;u()(this,t),this.root=document.querySelector(e),this.time=0,this.code=null,this.connectList=[],this.connectLine={},this.graphLine=new O,this.menu=new pt,this.selectList=[],this.selectRange=[],this.operate="",this.control=new lt(this.root),this.control.on("start",(function(t){n.setOperate("select")})),this.control.on("drag",(function(t){"select"==n.operate?w.a.redraw():"selectActive"==n.operate?n.selectList.forEach((function(e){e.bubbleFire("selectDrag",t)})):"connectLine"==n.operate&&(n.graphLine.endPos=t.mousePos)})),this.control.on("end",(function(t){"select"==n.operate?n.setOperate("selectActive"):"connectLine"==n.operate&&n.setOperate("")})),this.setCode(new S);!function t(e){requestAnimationFrame(t),n.time=e,n.code.list.forEach((function(t){return t.properties.graph.onExecute(e)})),n.connectList.forEach((function(t){return t.onExecute(e)}))}()}return c()(t,[{key:"setOperate",value:function(t){if(this.operate!=t){var e=this.operate;if(this.operate=t,"select"==e||("selectActive"==e?this.selectList.forEach((function(t){return t.fire("unselect")})):"connectLine"==e&&(this.connectLine={})),"select"==t)this.selectRange=this.control.currentControl?this.control.currentControl.children:[];else if("selectActive"==t){var n=this.control.dragRect.pos,r=this.control.dragRect.size;this.selectList=this.selectRange.filter((function(t){return t.has("select")&&t.rectHitTest(n,r)})),this.selectList.length?this.selectList.forEach((function(t){return t.fire("select")})):this.setOperate("")}else if("connectLine"==t){var o=this.connectLine.output;this.graphLine.startPos=o.component.getOutputPos(o.num),this.graphLine.endPos=this.control.mousePos}w.a.redraw()}}},{key:"addControl",value:function(t){this.control.add(t),this.control.children.sort((function(t,e){return e.src.zindex-t.src.zindex}))}},{key:"setCode",value:function(t){var e=this;this.code=t,this.code.on("addValue",(function(t,n){var r=new dt;r.root=e,r.refName=t,r.setData({type:n.constructor.name,name:t}),e.menu.valueList[t]=r})),this.code.on("setValue",(function(t,n){e.menu.redraw=!0,e.menu.valueList[t].redraw=!0,w.a.redraw()})),this.code.on("connect",(function(t,n,r,o){t=t.properties.graph,r=r.properties.graph;var i=new O;i.root=e,i.connect(t,n,r,o),e.connectList.push(i),i.startPos=t.getOutputPos(n),i.endPos=r.getInputPos(o),"flow"!=r.type&&t.update()})),this.code.on("unconnect",(function(t,n,r,o){t=t.properties.graph,r=r.properties.graph,t.outputLineList[n]=t.outputLineList[n].filter((function(t){var e=t.input;return e.component!=r||e.num!=o})),r.inputLineList[o]=r.inputLineList[o].filter((function(e){var r=e.output;return r.component!=t||r.num!=n})),e.connectList=e.connectList.filter((function(e){return e.output.component!=t||e.output.num!=n||e.input.component!=r||e.input.num!=o})),r.update()})),this.operateComponent={view:function(){return"select"==e.operate?w()("div.selectRect",{style:{left:"".concat(e.control.dragRect.pos[0],"px"),top:"".concat(e.control.dragRect.pos[1],"px"),width:"".concat(e.control.dragRect.size[0],"px"),height:"".concat(e.control.dragRect.size[1],"px")}}):"connectLine"==e.operate?w()("svg.connectLine",{width:"100%",height:"100%"},[w()(e.graphLine)]):void 0}},w.a.mount(this.root,this)}},{key:"view",value:function(){return[w()("svg.svg",{width:"100%",height:"100%"},this.connectList.map((function(t){return w()(t,{key:t.id})}))),w()("div.flowgraphs",this.code.list.map((function(t){return w()(t.properties.graph,{key:t.properties.graph.id})}))),w()(this.menu),w()("div.front",[w()(this.operateComponent)])]}},{key:"addValue",value:function(t,e){this.code.addValue(t,e)}},{key:"setValue",value:function(t,e){this.code.setValue(t,e)}},{key:"getValue",value:function(t){return this.code.getValue(t)}},{key:"addComponent",value:function(t,e,n){var i;e=Object(R.a)({componentName:t},null!==(i=e)&&void 0!==i?i:{});var u=new(r["component_".concat(t)])(e);u.init(this.code);var a=new(o["component_".concat(t)])(u,n);return a.init(this),a}},{key:"connect",value:function(t,e,n,r){this.code.connect(t.code,e,n.code,r)}},{key:"unconnect",value:function(t,e,n,r){this.code.unconnect(t.code,e,n.code,r)}}]),t}())("#graph");ht.addValue("a0",3),ht.addValue("a1",6),ht.addValue("a2",!0);var vt=ht.addComponent("getValue",{refName:"a0"},{pos:[300,200]}),mt=ht.addComponent("add",void 0,{pos:[600,100]}),yt=ht.addComponent("watch",void 0,{pos:[900,200]}),gt=ht.addComponent("add",void 0,{pos:[600,400]}),bt=ht.addComponent("getValue",{refName:"a1"},{pos:[300,400]}),wt=ht.addComponent("button",void 0,{pos:[300,900]}),xt=ht.addComponent("setValue",{refName:"a0",value:100},{pos:[600,900]}),kt=ht.addComponent("ticker",void 0,{pos:[300,600]}),Lt=ht.addComponent("branch",void 0,{pos:[600,600]}),Pt=ht.addComponent("getValue",{refName:"a2"},{pos:[350,700]}),Ot=ht.addComponent("box",void 0,{pos:[900,500]}),Ct=ht.addComponent("box",void 0,{pos:[900,700]}),Et=(ht.addComponent("getValue",{refName:"a0"},{pos:[300,50]}),ht.addComponent("watch",void 0,{pos:[1e3,800]}));ht.addComponent("watch",void 0,{pos:[800,100]});ht.connect(vt,0,mt,0),ht.connect(bt,0,mt,1),ht.connect(vt,0,gt,1),ht.connect(mt,0,gt,0),ht.connect(gt,0,yt,0),ht.connect(wt,0,xt,0),ht.connect(kt,0,Lt,0),ht.connect(Lt,0,Ot,0),ht.connect(Lt,1,Ct,0),ht.connect(Pt,0,Lt,1),ht.connect(Lt,2,Et,0);!function t(e){requestAnimationFrame(t),Math.random()>.5&&ht.setValue("a2",!ht.getValue("a2"))}()}]);